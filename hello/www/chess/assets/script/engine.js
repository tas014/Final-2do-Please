var depth=4;
var currentpos;
var positions=[];
var replace=[...matrix];

for (let i=0; i<depth; i++) {
    for (let j=0;j<availableMoves();j++) {
        replace
    }
}